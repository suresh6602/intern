<!DOCTYPE html>
<html>
<head>
    <title>Registration Page</title>
    <!-- <link rel="stylesheet" href="signup.css"> -->
<style>
    h1{
        text-align: center;
    }
    .container{
        display: flex;
        justify-content: center;
    }
    .container button:hover {
         background-color: #9f9fa4;
    }
</style>
</head>
<body>
    <h1>Register</h1>
    <div class="container">
    <form>
        <label for="username">Username:</label><br>
        <input type="text" id="username" required /><br>

        <label for="email">Email:</label><br>
        <input type="email" id="email" required /><br>

        <label for="password">Password:</label><br>
        <input type="password" id="password"  maxlength="6" required /><br>

        <label for="confirmpassword">Confirm Password:</label><br>
        <input type="password" id="confirmpassword"  maxlength="6" required /><br>

        <label for="phone">phone number:</label><br>
        <input type="phone" id="phone"  maxlength="10" required /><br><br>

        <button type="submit" onclick="register()">Register</button>
    
    </form>
    </div>

    <script>
       
        function register() {
            // Get the input values
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const confirmpassword = document.getElementById('confirmpassword').value;
            const phone = document.getElementById('phone').value;

        if(username=="" || email=="" || password=="" || confirmpassword=="" || phone==""){
            alert('Please fill in all the required fields.');
            return;
        }   

        function isValidEmail(email) {
            // Regular expression for validating email format
            const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            return emailRegex.test(email);
        }
        if(email) {
            if (!isValidEmail(email)) {
                alert('Invalid email format.');
                return;
            }
        }
        if (password !== confirmpassword) {
            alert('Passwords do not match.');
            return;
        }
        event.preventDefault()
        alert('Registration successful.\nUsername: ' + username + '\nEmail: ' + email);
        
            // Print the values to the console
            console.log('Username:', username);
            console.log('Email:', email);
            console.log('Password:', password);
            console.log('confirmpassword:',confirmpassword);
            console.log('phone:',phone);

            const jsonData = {
                username:username,
                email:email,
                password:password,
                confirmpassword:confirmpassword,
                phone:phone

            };
            const url = `https://shopping-card-ff680-default-rtdb.firebaseio.com/login.json`;
            fetch(url,{
                method:'POST',
                body: JSON.stringify(jsonData)
            })
            console.log('data fetched successfully');
        }
        

    
    </script>
</body>
</html>
